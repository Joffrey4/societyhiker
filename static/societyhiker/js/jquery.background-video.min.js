!function(a){function b(){return Math.floor(Date.now()/1e3)}a("html").addClass("js"),Date.now||(Date.now=function(){return(new Date).getTime()}),a.fn.bgVideo=function(c){var d=/iPad|iPhone|iPod/.test(navigator.platform)||/iPad|iPhone|iPod/.test(navigator.userAgent),e=a.extend({},a.fn.bgVideo.defaults,c);return this.each(function(){var i,c=a(this),f=c[0],g=c.parent(),h=a('<button class="jquery-background-video-pauseplay pause"><span>Pause</span></button>'),j=a.extend({},e),k=c.data();a.each(k,function(a,b){0===a.indexOf("bgvideo")&&(a=a.replace("bgvideo",""),a=a.charAt(0).toLowerCase()+a.slice(1),j[a]=b)}),c.on("playing",function(){i=b(),c.addClass("is-playing is-visible"),h.removeClass("play").addClass("pause").find("span").text("Pause"),a.fn.bgVideo.fitVideo(c)}),f.currentTime>0&&c.addClass("is-playing is-visible"),c.on("pause",function(){c.removeClass("is-playing"),h.removeClass("pause").addClass("play").find("span").text("Play"),j.fadeOnPause&&c.removeClass("is-visible")}),g.css({overflow:"hidden","background-size":"cover","background-position":"center center","background-repeat":"no-repeat","background-image":"url("+c.attr("poster")+")"}),c.css({"min-width":"auto","min-height":"auto",width:"100%",height:"auto",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)"}),j.fullScreen&&g.css({position:"fixed",top:"0",bottom:"0",left:"0",right:"0",height:"auto",margin:"0","z-index":"-1"}),c.css("transition-duration",j.fadeIn+"ms"),d&&(c.attr("src",""),c.find("source").attr("src",""),c.remove()),a.fn.bgVideo.fitVideo(c),a(window).resize(function(){a.fn.bgVideo.fitVideo(c)}),j.pauseAfter=parseInt(j.pauseAfter,10),j.pauseAfter>0&&c.on("timeupdate",function(){var a=b();a>i+j.pauseAfter&&(f.pause(),j.fadeOnEnd&&c.removeClass("is-visible"))}),j.showPausePlay&&(g.append(h),h.css({left:"auto",right:"auto",top:"auto",bottom:"auto"}),h.css(j.pausePlayXPos,j.pausePlayXOffset),h.css(j.pausePlayYPos,j.pausePlayYOffset),"center"===j.pausePlayXPos&&h.css({left:"50%","margin-left":"-10px"}),"center"===j.pausePlayYPos&&h.css({top:"50%","margin-top":"-10px"}),h.on("click",function(){f.paused?f.play():f.pause()}))})},a.fn.bgVideo.defaults={fullScreen:!1,fadeIn:500,pauseAfter:120,fadeOnPause:!1,fadeOnEnd:!0,showPausePlay:!0,pausePlayXPos:"right",pausePlayYPos:"top",pausePlayXOffset:"15px",pausePlayYOffset:"15px"},a.fn.bgVideo.fitVideo=function(a){var b=a.parent(),c=b.outerHeight(),d=b.outerWidth();a.css({height:"auto",width:d+"px"});var e=a.height();c>e&&a.css({height:c+"px",width:"auto"})},a(document).ready(function(){a("[data-bgvideo]").bgVideo()})}(jQuery);